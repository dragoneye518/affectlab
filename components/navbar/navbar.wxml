<view class="fixed top-0 left-0 right-0 z-50 bg-dark-900-90 backdrop-blur border-b border-white-10" style="padding-top: {{statusBarHeight}}px;">
  <view class="flex items-center justify-between px-4 h-full relative" style="height: {{navBarHeight}}px; padding-right: {{menuButtonWidth + 8}}px;">
    <!-- Logo Area -->
    <view class="flex items-center gap-2 active-opacity transition-opacity flex-shrink-0" bindtap="goHome">
      <view class="w-8 h-8 bg-gradient-logo rounded-lg flex items-center justify-center relative overflow-hidden group shadow-neon-pink">
        <text class="font-bold text-white text-lg relative z-10">P</text>
        <view class="absolute inset-0 bg-white-20 translate-y-full group-hover-translate-y-0 transition-transform"></view>
      </view>
      <view class="flex flex-col justify-center h-8">
        <text class="font-bold text-white tracking-wider text-sm leading-none mb-0.5">CANDY PIXEL</text>
        <text class="text-neon-blue tracking-widest font-mono opacity-90" style="font-size: 20rpx; line-height: 1;">赛博情绪实验室</text>
      </view>
    </view>
    
    <!-- Right Actions -->
    <view class="flex items-center gap-2 flex-shrink-0">
        <!-- Daily Gift Button -->
        <view 
            bindtap="onOpenDaily"
            class="flex items-center justify-center w-7 h-7 rounded-full border transition-all duration-300 active-scale-95 relative {{canClaimDaily ? 'bg-neon-yellow-10 border-neon-yellow text-neon-yellow shadow-neon-yellow' : 'bg-white-5 border-white-10 text-gray-500'}}"
        >
            <image src="https://api.iconify.design/lucide:gift.svg?color=%23{{canClaimDaily ? 'ffff00' : '6b7280'}}" class="w-3.5 h-3.5" />
            
            <block wx:if="{{canClaimDaily}}">
                <view class="absolute -top-1 -right-1 flex h-2.5 w-2.5">
                  <view class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"></view>
                  <view class="relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500 border-2 border-black"></view>
                </view>
            </block>
        </view>
  
        <!-- Watch Ad Button -->
        <view 
            bindtap="onWatchAd"
            class="btn-neon-glow flex items-center gap-1 bg-gradient-purple-pink border border-neon-purple-50 px-2 py-0.5 rounded-full active-scale-95 transition-transform"
        >
            <image src="https://api.iconify.design/lucide:play-circle.svg?color=%23ff00ff" class="w-3 h-3 animate-pulse" />
            <text class="text-xs-mini font-bold text-neon-pink">+10</text>
        </view>
  
        <!-- Candy Count -->
        <view class="flex items-center gap-1 px-2 py-0.5 rounded-full border transition-all duration-300 {{candyCount < 3 ? 'bg-red-500-20 border-red-500 animate-pulse' : 'bg-white-5 border-white-10'}}">
            <image src="https://api.iconify.design/lucide:candy.svg?color=%23{{candyCount < 3 ? 'ef4444' : 'ffff00'}}" class="w-3 h-3" />
            <text class="font-mono font-bold text-xs min-w-8 text-center {{candyCount < 3 ? 'text-red-500' : 'text-neon-yellow'}}">{{candyCount}}</text>
        </view>
    </view>
  </view>
</view>
