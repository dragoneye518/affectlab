<view class="min-h-screen bg-black text-white font-sans pb-20 relative">
  <view class="fixed inset-0 pointer-events-none z-0 opacity-10 bg-stardust"></view>

  <view class="fixed top-0 left-0 right-0 z-50 bg-dark-900-90 backdrop-blur border-b border-white-10" style="padding-top: {{statusBarHeight}}px;">
    <view class="flex items-center px-4 h-full" style="height: {{navBarHeight}}px; padding-right: {{menuButtonWidth + 8}}px;">
      <view class="flex items-center gap-2">
        <image src="https://api.iconify.design/lucide:user.svg?color=%2300ff00" class="w-5 h-5" />
        <text class="font-black italic tracking-widest text-white">我的</text>
      </view>
      <view class="ml-auto flex items-center gap-2">
        <view class="flex items-center gap-1 px-2 py-0.5 rounded-full border bg-white-5 border-white-10">
          <image src="https://api.iconify.design/lucide:candy.svg?color=%23ffff00" class="w-3 h-3" />
          <text class="font-mono font-bold text-xs min-w-8 text-center text-neon-yellow">{{candyCount}}</text>
        </view>
      </view>
    </view>
  </view>

  <view class="px-4 max-w-md mx-auto relative z-10" style="padding-top: {{contentPaddingTop}}px;">
    <view class="animate-fade-in">
      <view class="rounded-2xl p-1 bg-gradient-banner mb-6">
        <view class="rounded-2xl bg-dark-900-95 border border-white-10 p-6 relative overflow-hidden">
          <view class="absolute inset-0 opacity-20 bg-grid pointer-events-none"></view>
          <view class="relative">
            <view class="flex items-start justify-between gap-4">
              <view class="flex items-center gap-3 flex-1">
                <view class="w-12 h-12 rounded-full border border-white-10 bg-white-5 flex items-center justify-center overflow-hidden">
                  <image src="{{userAvatarUrl}}" class="w-7 h-7 opacity-90" mode="aspectFit" />
                </view>
                <view class="flex flex-col flex-1">
                  <view><text class="text-xs text-gray-400 tracking-widest uppercase font-bold">CYBER USER</text></view>
                  <view><text class="text-sm font-black italic text-white mt-1 line-clamp-1">{{userDisplayName}}</text></view>
                </view>
              </view>
              <view class="flex items-center gap-2 px-3 py-1 rounded-full border border-white-10 bg-white-5">
                <view class="w-2 h-2 rounded-full {{canClaimDaily ? 'bg-neon-green' : 'bg-gray-600'}}"></view>
                <text class="text-xs text-gray-300">{{canClaimDaily ? '可领每日补给' : '今日已领取'}}</text>
              </view>
            </view>

            <view class="mt-6 flex items-center justify-between gap-3">
              <view class="flex items-baseline gap-2">
                <text class="text-4xl font-black text-neon-yellow font-mono leading-none">{{candyCount}}</text>
                <text class="text-xs text-gray-500 font-mono">糖果/算力</text>
              </view>
              <view class="flex items-center gap-2">
                <view bindtap="onOpenDaily" class="px-3 py-2 rounded-xl border {{canClaimDaily ? 'border-neon-yellow-50 bg-neon-yellow-10 text-neon-yellow' : 'border-white-10 bg-white-5 text-gray-500'}} text-xs font-bold active-scale-95 transition-all flex items-center justify-center">
                  每日补给
                </view>
                <view bindtap="onWatchAd" class="px-3 py-2 rounded-xl border border-neon-purple-50 bg-gradient-purple-pink text-white text-xs font-bold active-scale-95 transition-all flex items-center justify-center">
                  看广告 +10
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <view class="grid grid-cols-3 gap-3 mb-6">
        <view bindtap="goPack" class="rounded-2xl border border-white-10 bg-dark-800 p-4 active-scale-95 transition-all">
          <view class="flex items-start gap-3">
            <image src="https://api.iconify.design/lucide:backpack.svg?color=%23ff00ff" class="w-6 h-6 mt-1" />
            <view class="flex flex-col">
              <view><text class="text-xs-mini font-bold text-white line-clamp-1">背包</text></view>
              <view><text class="text-xs-mini text-gray-500 mt-1">生成记录</text></view>
            </view>
          </view>
        </view>
        <view bindtap="goCreditDetail" class="rounded-2xl border border-white-10 bg-dark-800 p-4 active-scale-95 transition-all">
          <view class="flex items-start gap-3">
            <image src="https://api.iconify.design/lucide:arrow-up-circle.svg?color=%2300ff00" class="w-6 h-6 mt-1" />
            <view class="flex flex-col">
              <view><text class="text-xs-mini font-bold text-white line-clamp-1">充值明细</text></view>
              <view><text class="text-xs-mini text-gray-500 mt-1">广告补给</text></view>
            </view>
          </view>
        </view>
        <view bindtap="goDebitDetail" class="rounded-2xl border border-white-10 bg-dark-800 p-4 active-scale-95 transition-all">
          <view class="flex items-start gap-3">
            <image src="https://api.iconify.design/lucide:arrow-down-circle.svg?color=%23ff00ff" class="w-6 h-6 mt-1" />
            <view class="flex flex-col">
              <view><text class="text-xs-mini font-bold text-white line-clamp-1">消费明细</text></view>
              <view><text class="text-xs-mini text-gray-500 mt-1">模板消费</text></view>
            </view>
          </view>
        </view>
      </view>

      <view class="rounded-2xl border border-white-10 bg-dark-800 overflow-hidden">
        <view class="px-4 py-3 border-b border-white-10 flex items-center justify-between">
          <text class="text-sm font-bold tracking-widest text-gray-300">摘要</text>
          <text class="text-xs text-gray-500">累计/全量 · 次数/最近200条流水</text>
        </view> <!--
        <view class="px-4 pt-3 text-xs text-gray-600">
          最近 200 条交易流水（充值/消费/补给）次数
        </view> -->
        <view class="p-4 space-y-3">
          <view class="flex items-center justify-between">
            <view class="flex items-center gap-2">
              <image src="https://api.iconify.design/lucide:wallet.svg?color=%2300ff00" class="w-4 h-4" />
              <text class="text-sm text-gray-300">累计充值</text>
            </view>
            <text class="text-sm font-black font-mono text-neon-green">{{summary.totalCredit}}</text>
          </view>
          <view class="flex items-center justify-between">
            <view class="flex items-center gap-2">
              <image src="https://api.iconify.design/lucide:shopping-cart.svg?color=%23ff00ff" class="w-4 h-4" />
              <text class="text-sm text-gray-300">累计消费</text>
            </view>
            <text class="text-sm font-black font-mono text-neon-pink">{{summary.totalDebit}}</text>
          </view>
          <view class="flex items-center justify-between">
            <view class="flex items-center gap-2">
              <image src="https://api.iconify.design/lucide:play-circle.svg?color=%23a855f7" class="w-4 h-4" />
              <text class="text-sm text-gray-300">广告补给次数</text>
            </view>
            <text class="text-sm font-black font-mono text-white">{{summary.adCount}}</text>
          </view>
          <view class="flex items-center justify-between">
            <view class="flex items-center gap-2">
              <image src="https://api.iconify.design/lucide:gift.svg?color=%23ffff00" class="w-4 h-4" />
              <text class="text-sm text-gray-300">每日补给次数</text>
            </view>
            <text class="text-sm font-black font-mono text-white">{{summary.dailyCount}}</text>
          </view>
          <view class="flex items-center justify-between">
            <view class="flex items-center gap-2">
              <image src="https://api.iconify.design/lucide:sparkles.svg?color=%2300ffff" class="w-4 h-4" />
              <text class="text-sm text-gray-300">生成次数</text>
            </view>
            <text class="text-sm font-black font-mono text-white">{{summary.generateCount}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

</view>
